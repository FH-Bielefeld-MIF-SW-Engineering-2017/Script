##IOT Hub virtual Machines
Meist reicht PaaS nicht aus um alle Anwendungsfälle abzudecken. Gerade bei Arbeiten mit Hardware und externen Sensoren ist es notwendig Zugriff auf viele Komponenten des Betriebssystems zu haben. An dieser Stelle kommt die IaaS in Form einer Virtuellen Maschine zum Einsatz.  
###Virtual machine models 
IOT Hub stellt zwei Modelle für Virtuelle Maschinen zur Verfügung, das Azure Resource Manager (ARM) und Azure Service Management (ASM). Das ARM ist das moderne von beiden und kommt deshalb am häufigsten zum Einsatz. Das ARM bietet Kontrolle über jede Funktion einer Ressource wie bei einem gewöhnlichen Desktop-Computer. So können zum Beispiel Netzwerke, Speicher, Rechenleistung und vieles mehr, hinzugefügt, entfernt und konfiguriert werden. Für das Verwalten dieser Komponenten wird ein Ressourcen Manager in der Verwaltung der Virtuellen Maschine zur Verfügung gestellt. Der Network Resource Provider behandelt alle Aspekte der Netzwerkkonnektivität wie IP-Adressen, Load Balancer und NICs. Eine Festplatte einer Virtuellen Maschine existiert nicht mehr im herkömmlichen Sinn als Hardware. Ein Speicherressourcenanbieter übernimmt die Aufgabe virtuelle Festplatten zu erzeugen und als Speicher zur Verfügung zu stellen. Dabei kann es sein, dass eine virtuelle Festplatte auf mehreren geografisch unterschiedlichen Orten über mehrere physische Festplatten aufgeteilt ist. Eine virtuelle Festplatte kann trotzdem als logisches Laufwerk verwendet werden. Der Compute Resource Provider sorgt dabei für eine angemessene dynamische Verteilung der Ressourcen um zu vermeiden, dass diese ungenutzt sind oder im idle-Betrieb sind. Auch ist die Kontrolle, Bereitstellung und Verwaltung von verwandten Ressourcen als Teil einer Ressourcengruppe möglich. Eine erweiterte Rollenbasierte Zugriffskontrolle (RBAC) ist möglich und sorgt für mehr Sicherheit. Der klassische ASM bietet hingegen eine herkömmliche Virtualisierung der Ressourcen. Alle Funktionen werden dabei in einem Container gehostet und nicht in mehreren Einzelcontainern hinterlegt. 
###Virtual machine components 
Wie auch ein normaler Desktop-Computer besteht eine Virtuelle Mschine aus unterschiedlichen Komponenten. Dazu gehört das Betriebssystem, Prozessoren, Arbeitsspeicher, Festplatten, Netzwerke, usw. Im Vergleich mit gewöhnlichen Komponenten die als Hardware für einen Desktop-Computer zur Verfügung stehen, stellt ein jeweils virtuelles Modell einer Komponente eine dar, dessen Limit nur durch die Gesamtheit des Systems gesetzt ist. So können in einem gewöhnlichen Computer aktuell maximal 1048 TB Arbeitsspeicher verbaut und genutzt werden. Dies ist jedoch mit sehr hohen Kosten verbunden und die meisten Zeit wird der große Speicher nicht benötigt. Deshalb macht es Sinn sich den Arbeitsspeicher oder Prozessorkerne nur für einen gewissen Zeitraum zu mieten und die Ressourcen im Idle-Betrieb an andere Cloud-Benutzer abzugeben. 
